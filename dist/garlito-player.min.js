const config={stream:{type:"",url:""},lastSongsUrl:{url:""},statisticsEverySecond:5,statistics:{type:"",url:""},colorConfiguration:{playerBackgroundColor:"#ffffff"},autoplay:!0,plugin:{url:""},wave:{color:"",enabled:!0},icon_color:""};$(window).on("load",function(){var t;(t=document.createElement("div")).id="garlito",t.innerHTML='<div class="modal fade" id="checkLastSongsModal" tabindex="-1" aria-labelledby="checkLastSongsModalLabel" aria-hidden="true"> <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title" id="exampleModalLabel">Τελευταία Τραγούδια </h4> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> </div><div id="lastSongsTable" class="modal-body "> </div><div class="modal-footer"> </div></div></div></div><div id="topBar" class="top-bar"> <div class="top-bar-icons"> <a href="https://facebook.com/bohemeradiogr" target="_blank" id="facebookIcon" class="top-bar-icon"></a> <a href="https://instagram.com/boheme.radio" target="_blank" id="instagramIcon" class="top-bar-icon"></a> <div id="historyIcon" class="top-bar-icon" data-bs-toggle="modal" data-bs-target="#checkLastSongsModal"></div><a href="https://chat.boheme-radio.com/boheme-radio" target="_blank" id="chatIcon" class="top-bar-icon"></a> </div></div><div id="playerHolder" class="player-holder"> <div class="player"> <input style="display:none" type="range" min="0" max="1" value="1" step="0.01" class="istyle" id="volumeSlider"> <div style="display:none" id="closePlayerButton" class="close-button">x</div><div style="display:none" id="muteButton" class="button"></div><div id="stationLogo" class="station-logo"></div><div id="stationTitle" class="station-title"></div><table class="info-table"> <tbody> <tr> <td rowspan="3"><img id="cover"></td><td><b><div id="artist"></div></b></td></tr><tr> <td><b><div id="title"></div></b></td></tr><tr> <td><div id="album"></div></td></tr></tbody> </table> <audio style="display:none"></audio> <div class="buttons-holder"> <div style="display:none" id="playButton" class="button"></div><div style="display:none" id="stopButton" class="button"></div></div></div><div id="waveEffect" class="wave2"></div><div></div></div>',document.body.appendChild(t);$("#topBar");const o=document.querySelector("audio"),a=($("#audioSource"),$("#playButton")),e=$("#stopButton"),i=$("#muteButton"),n=$("#volumeSlider"),l=$("#closePlayerButton"),s=$("#waveEffect"),c=$("#playerHolder"),r=$("#cover"),d=$("#title"),u=$("#artist"),g=$("#album"),p=$("#fullTitle"),m=$("#stationTitle"),f=($("#stationLogo"),$("#facebookIcon"),$("#instagramIcon"),$("#historyIcon"));$("#chatIcon"),$("#checkLastSongsModal");function v(){config.statistics&&"centova_cast"===config.statistics.type&&$.get(config.statistics.url,t=>{!function(t){o=r,a=t.imageurl,o.attr("src",a),w(u,y(t.artist)),w(d,b(t.title)),w(g,function(t){if(t&&t.length>=20)return"";return t}(t.album)),w(p,y(t.artist)+" - "+b(t.title));var o,a}(t.data[0].track)})}function y(t){if(!t.includes(";"))return t;t.split(";")[0]}function b(t){return t}function h(t){t.css("display","none")}function k(t){t.css("display","inline-block")}function w(t,o){t.text(o)}function _(t,o){t.css("background",o)}function B(t,o){t.css("border-color",o)}n.on("input",t=>{o.volume=n.val(),n.val()<=0?h(s):k(s)}),f.on("click",()=>{$.get(config.lastSongsUrl.url,t=>{let o=[];t&&t.items&&t.items.forEach(t=>{"Αγνωστο - Boheme Radio Spot"!==t.title&&o.push(t)}),document.contains(document.getElementById("testooo"))&&document.getElementById("testooo").remove(),function(t,o){!function(t){document.contains(document.getElementById(t))&&document.getElementById(t).remove()}(o+"uniqueElement");var a=document.createElement("div");a.id=o+"uniqueElement",a.innerHTML=t,document.getElementById(o).appendChild(a)}(function(t){let o='<table class"table table-striped table-responsive"><thead> <tr> <th>Artwork</th> <th>Title</th><th>Album</th> <th>Date</th></tr></thead><tbody>';return t&&t.forEach(t=>{o=o+' <tr><td><img src="'+t.enclosure.url+'"></td></td><td>'+t.title+"</td><td>"+t.description+"</td> <td>"+new Date(1e3*t.date).toLocaleTimeString()+"</td></tr>"}),o+="</tbody></table>",console.log(o),o}(o),"lastSongsTable")})}),async function(){k(a),k(n),await async function(){await $.ajax({url:"/wp-content/plugins/garlito-player/helpers/player-info.php"}).done(t=>{!function(t){config.stream.url=t.stream_url,config.stream.type=t.stream_type,config.statistics.type=t.statistics_type,config.statistics.url=t.statistics_url,config.statisticsEverySecond=t.statisticsEverySecond,config.autoplay=t.autoplay,config.colorConfiguration.playerBackgroundColor=t.playerBackgroundColor,config.plugin.ulr=t.plugin_url,config.wave.color=t.wave_color,config.wave.enabled=t.wave_enabled,config.icon_color=t.icon_color,config.lastSongsUrl.url=t.last_songs_url,w(m,t.station_title)}(t)})}(),config.stream&&("shoutcast"===config.stream.type?o.src=config.stream.url:"icecast"===config.stream.type&&(o.src=config.stream.url));config.colorConfiguration&&(config.colorConfiguration.playerBackgroundColor&&(t=c,r=config.colorConfiguration.playerBackgroundColor,d=.89,t.css("background",function(t,o){var a;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3==(a=t.substring(1).split("")).length&&(a=[a[0],a[0],a[1],a[1],a[2],a[2]]),"rgba("+[(a="0x"+a.join(""))>>16&255,a>>8&255,255&a].join(",")+","+o+")"}(r,d)),_(l,config.colorConfiguration.playerBackgroundColor)),config.wave.color&&function(t){s.css("background-color",t),s.css("mask",'url("../wp-content/plugins/garlito-player/assets/img/wave_gray.svg") 0 0 repeat-x'),s.css("-webkit-mask",'url("../wp-content/plugins/garlito-player/assets/img/wave_gray.svg") 0 0 repeat-x')}(config.wave.color),config.icon_color&&(_(a,config.icon_color),B(a,config.icon_color),_(i,config.icon_color),B(i,config.icon_color),_(e,config.icon_color),B(e,config.icon_color))),v(),setInterval(()=>{v()},1e4),k(c);var t,r,d}(),v(),a.click(()=>{h(a),k(i),k(n),k(e),k(s),o.src=config.stream.url,o.load(),o.play()}),e.click(()=>{h(s),h(e),h(i),h(n),k(a),o.src=""}),i.click(()=>{o.muted=!o.muted,o.muted?(h(s),i.css("mask","url(wp-content/plugins/garlito-player/assets/img/mute.svg) no-repeat center / contain"),i.css("-webkit-mask","url(wp-content/plugins/garlito-player/assets/img/mute.svg) no-repeat center / contain")):(k(s),i.css("mask","url(wp-content/plugins/garlito-player/assets/img/speaker.svg) no-repeat center / contain"),i.css("-webkit-mask","url(wp-content/plugins/garlito-player/assets/img/speaker.svg) no-repeat center / contain"))}),l.click(()=>{h(c),e.click()})});